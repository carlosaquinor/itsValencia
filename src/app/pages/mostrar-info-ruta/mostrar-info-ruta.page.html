<app-header titulo="Mostrar info ruta"></app-header>

<ion-content>
  <ion-grid>
  <ion-row>
    <ion-col size="12">
      <ion-card>
        <ion-img [src]="this.ruta.imagen" class="card-img-top"></ion-img>
        <ion-fab horizontal="end">
          <ion-fab-button style="margin-top: -2em" (click)="abrirRuta(this.ruta._id)">
            <ion-icon name="map-outline"></ion-icon>
          </ion-fab-button>
        </ion-fab>
        <ion-card-header>
          <ion-card-title style="margin-top: 1em">{{this.ruta.titulo}}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-grid>
            <ion-row style="margin-bottom: 1em">
              <h2>
                <ion-icon name="navigate-outline" style="margin-right: 0.5em"></ion-icon>
                {{this.ruta.destino}} - {{this.ruta.origen}}</h2>
            </ion-row>
            <ion-row>
              <h2>Paradas <ion-icon name="arrow-forward-outline"></ion-icon></h2>
            </ion-row>
            <div *ngIf="this.ruta.paradas.length > 0">
              <ion-row *ngFor="let x of this.ruta.paradas">
                <div>
                  <h2><ion-icon name="location-outline" style="margin-right: 0.5em"></ion-icon>{{x}}</h2>
                </div>
              </ion-row>
            </div>
            <div *ngIf="this.ruta.paradas.length === 0">
              <h2><i>Esta ruta no contiene paradas...</i></h2>
            </div>
            <ion-row style="margin-bottom: 2em" style="margin-top: 1em; margin-bottom: -2em; text-align: justify">
              <ion-textarea disabled="true" readonly="true"><ion-icon name="book-outline" style="margin-right: 0.5em"></ion-icon>{{this.ruta.descripcion}}</ion-textarea>
            </ion-row>
            <ion-row>
              <p>
                <ion-icon name="person-outline" style="margin-right: 0.5em"></ion-icon>
                {{this.cantApuntados}} <i>(Apuntados)</i></p>
            </ion-row>
            <ion-row>
              <p>
                <ion-icon name="calendar-outline" style="margin-right: 0.5em"></ion-icon>
                <i>{{this.pipeDate(this.ruta.fecha)}}</i></p>
            </ion-row>
            <ion-row>
              <p><ion-icon name="call-outline" style="margin-right: 0.5em"></ion-icon>
                <i>{{this.ruta.contacto}} (Tel√©fono de contacto)</i></p>
            </ion-row>
            <ion-row *ngIf="idUser !== this.ruta.idusuario">
              <ion-col size="12" style="margin-top: 1em">
                <ion-button expand="full" (click)="puedeInscribirse()">Inscribirse</ion-button>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="idUser === this.ruta.idusuario">
              <ion-col size="12" style="margin-top: 1em">
                <ion-button color="danger" expand="full" (click)="alertEliminarRuta()">Eliminar ruta</ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>

</ion-content>
